<script type="text/html" id="objecteditor">
    <div  data-bind="visible:koHasObject" style="margin:10px;width:100%">
        <div style="background-color:lightgray">
            <a href="#" data-bind="click: showProperties">
                <span data-bind="text: koShowProperties() ? 'Hide': 'Show'"></span>
            </a>
            <span data-bind="text: koTitle"></span>
        </div>
        <div>
            <table data-bind="visible:koShowProperties">
                <tbody data-bind="foreach: koProperties">
                    <tr data-bind="click: $parent.changeActiveProperty($data)">
                        <td data-bind="text: name"></td>
                        <td>
                            <span data-bind="text: koText(), visible: $parent.koActiveProperty() != $data, style: {color: koIsDefault() ? 'gray' : ''}"></span>
                            <!-- ko if: editorType == 'text' -->
                            <input type="text" data-bind="value: koValue, visible: $parent.koActiveProperty() == $data" />
                            <!-- /ko -->
                            <!-- ko if: editorType == 'boolean' -->
                            <input type="checkbox" data-bind="checked: koValue, visible: $parent.koActiveProperty() == $data" />
                            <!-- /ko -->
                            <!-- ko if: editorType == 'dropdown' -->
                            <select data-bind="value: koValue, visible: $parent.koActiveProperty() == $data, options: choices"></select>
                            <!-- /ko -->
                            <!-- ko if: editorType == 'itemvalues' -->
                            <div data-bind="visible: $parent.koActiveProperty() == $data, with: itemValues" style="position:absolute; z-index:100; top:parentOffset.top;left:parentOffset.left - 100;background-color:lightgray">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Value</th>
                                            <th>Text</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- ko foreach: koItems -->
                                        <tr>
                                            <td><input type="text" data-bind="value:koValue" style="width:100px" /></td>
                                            <td><input type="text" data-bind="value:koText" style="width:100px" /></td>
                                            <td><input type="button" data-bind="click: $parent.onDeleteClick" value="Delete" /></td>
                                        </tr>
                                        <!-- /ko -->
                                        <tr>
                                            <td><input type="text" data-bind="value:koNewValue" style="width:100px" /></td>
                                            <td><input type="text" data-bind="value:koNewText" style="width:100px" /></td>
                                            <td><input type="button" data-bind="click: onAddClick" value="Add" /></td>
                                        </tr>
                                    </tbody>
                                </table>
                                <input type="button" value="Apply" data-bind="click: onApplyClick" />
                            </div>
                            <!-- /ko -->
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</script>